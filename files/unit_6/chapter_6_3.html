<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>6.3 פעולות נפוצות על רשימות</title>
  <meta charset="utf-8">
  <link href='https://fonts.googleapis.com/css?family=alef' rel='stylesheet'>
  <link rel="stylesheet" type="text/css" href="../base/neo_css.css">
  <script src="../base/neo_js.js"></script>
</head>

<body class="python_body">
  <script>
    function toggle_visibility(id) {
          var e = document.getElementById(id);
          if (e.style.display == 'block')
                e.style.display = 'none';
          else
                e.style.display = 'block';
    }
    function expand_code(codeid, buttonid) {
          var c = document.getElementById(codeid);
          var b = document.getElementById(buttonid);
          c.style.display = 'block';
          b.style.display = 'none'
    }
  </script>
  <div class="toc_title">מה נלמד?</div>

    <button class="box_title" onclick="toggle_visibility('topic1')">בדיקת אורך רשימה</button>
    <div id="topic1" class="box_content">
      <p>בפרק הקודם עמדנו על הדמיון בין מחרוזת לבין רשימה וראינו כיצד אפשר לבדוק מהו ה<b>אורך</b> של רשימה באמצעות
        <b>הפונקציה len</b>.
        <br> לדוגמה, נגדיר את "מערכת השמש" כרשימה ובה כוכבי הלכת במערכת, ונבדוק כמה איברים נמצאים ברשימה:</p>

      <div class="code">
        >>> solar_system = ["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"]<br>
        >>> len(solar_system)<br>
        <span class="code_answer">8</span>
      </div>

      <p>בהמשך נעמוד על
        <b>נקודות השוני</b> בין מחרוזת לרשימה ונכיר פעולות שימושיות נוספות בעבודה עם רשימות.</p>

      <img class="box_content_close" onclick="toggle_visibility('topic1')">
    </div>
    <!-- Closing Topic 1 -->

      <button class="box_title" onclick="toggle_visibility('topic2')">שינוי רשימה - רשימה היא mutable</button>
      <div id="topic2" class="box_content">

        <p>קיים הבדל מהותי בין מחרוזות לרשימות. בניגוד למחרוזת, שהיא אובייקט שאינו בר-שינוי (immutable), את ה<b>רשימה אפשר לשנות</b> לאחר הגדרתה.
          <br> אפשר להוסיף לה איברים, לשנות אותם ואף למחוק אותם. אובייקט בר-שינוי נקרא
          <b>mutable</b>. </p>
        <h3 class="bold_title">הוספת איבר לרשימה </h3>
        <p>
          <b>הוספת איבר</b> לרשימה מתבצעת באמצעות המתודה append או באמצעות =+.
          <br> לדוגמה, אם נגלה כוכב לכת חדש במערכת השמש, נוכל להוסיפו לרשימה באמצעות
          <b>append</b>: </p>

        <div class="code">
          >>> solar_system<br>
          <span class="code_answer">["Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune"]</span><br>
          >>> solar_system<mark class="mark_code">.append</mark>("Novo")<br>
          >>> solar_system<br>
          <button id="button_6_2_1" class="expand" onclick="expand_code('code_6_2_1', 'button_6_2_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_6_2_1">
            <span class="code_answer">['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune',
              <mark class="mark_code_answer">'Novo'</mark>]</span>
          </div>
        </div>

        <p>או לחילופין הוספת איבר לרשימה באמצעות =+: </p>

        <div class="code">
          >>> solar_system
          <mark class="mark_code">+=</mark> ["Novo"]<br>
        </div>
		
		<p>באופן דומה, בעזרת האופרטור =+ אפשר לשרשר לרשימה גם רשימה שמכילה 		<b>יותר מאיבר אחד</b>.</p>

		
        <h3 class="bold_title">שינוי איבר ברשימה</h3>
        <p>בנוסף להוספת איברים, ברשימה אפשר
          <b>לשנות</b> איברים קיימים, פעולה ש<u>אינה חוקית</u> בעבודה עם מחרוזות.
          <br> לדוגמה, נשנה את שמו של כוכב הלכת החדש ברשימה: </p>

        <div class="code">
          >>> solar_system[8] = "De Novo"<br>
          >>> solar_system<br>
          <button id="button_6_3_1" class="expand" onclick="expand_code('code_6_3_1', 'button_6_3_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_6_3_1">
            <span class="code_answer"> ['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', '<mark class="mark_code_answer">De</mark> Novo']</span>
          </div>
        </div>

        <span class="corner_title" onclick="toggle_visibility('corner_6_3_1')">
          <img class="corner_debug-icon">
          <span class="corner_debug-title">IndexError: גישה למיקום שאינו קיים</span>
          <span class="corner_continue">להמשך קריאה</span>
        </span>
        <div id="corner_6_3_1" class="corner_debug-box">
          <p>נניח שנרצה שבסוף רשימת ״מערכת השמש״ יופיע איבר שהוא השמש עצמה (Sun).
            <br> האם הפקודה הבאה תייצר את האיבר המבוקש? </p>

          <div class="code">
            >>> solar_system[9] = "Sun"<br>
            <button id="button_6_4_1" class="expand" onclick="expand_code('code_6_4_1', 'button_6_4_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_6_4_1">
              <span class="code_answer">
                <span class="code_error">
                  Traceback (most recent call last):
                  <br> &nbsp;&nbsp;File "&lt;stdin&gt;", line 1, in &lt;module&gt;
                  <br> IndexError: list assignment index out of range
                </span>
              </span>
            </div>
          </div>
          <img class="corner_debug-x" onclick="toggle_visibility('corner_6_3_1')">
        </div><br><br><br>
          <!-- TODO: Hide -->
          <p>כיוון שניסינו לשנות איבר במיקום (אינדקס) שעדיין לא קיים מתקבלת שגיאה מסוג
            <b>IndexError</b> שמפרטת שחרגנו מחוץ לגבול הרשימה. </p>
          <p>בכדי לבצע את הפעולה (הוספת השמש), ראשית עלינו לשרשר את האיבר הרצוי. אם נרצה, נוכל לשנותו לאחר מכן.</p>

          <div class="code">
            >>> solar_system.append("Sun")<br>
            >>> solar_system<br>
            <button id="button_6_5_1" class="expand" onclick="expand_code('code_6_5_1', 'button_6_5_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_6_5_1">
              <span class="code_answer">['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'De Novo', 'Sun']</span>
            </div>
          </div>

        <h3 class="bold_title">מחיקת איבר מרשימה</h3>
        <p>לעיתים נרצה למחוק איברים מרשימה.
          <b>מחיקת איבר</b> מרשימה יכולה להתבצע באמצעות המתודה
          <b>remove</b>. בסוגריים נכתוב את הערך אותו אנו מעוניינים למחוק.
          <br>שימו לב, רק ההופעה הראשונה של הערך תימחק מהרשימה.</p>
        <p>דוגמה למחיקת כוכב הלכת החדש שיצרנו (De novo) מהרשימה solar_system:</p>

        <div class="code">
          >>> solar_system<br>
          <span class="code_answer">['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'De Novo', 'Sun']</span>
        <br>>>> solar_system.remove(“De Novo”)<br>
          >>> solar_system<br>
          <button id="button_6_6_1" class="expand" onclick="expand_code('code_6_6_1', 'button_6_6_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_6_6_1">
            <span class="code_answer">['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'Sun']</span>
          </div>
        </div>

        <span class="corner_title" onclick="toggle_visibility('corner_6_3_2')">
          <img class="corner_debug-icon">
          <span class="corner_debug-title">ValueError: מחיקת איברים</span>
          <span class="corner_continue">להמשך קריאה</span>
        </span>
        <div id="corner_6_3_2" class="corner_debug-box">
          <p>בואו ננסה להריץ שוב את המתודה remove עבור כוכב הלכת De Novo: </p>

          <div class="code">
            >>> solar_system.remove("De Novo")<br>
            <button id="button_6_7_1" class="expand" onclick="expand_code('code_6_7_1', 'button_6_7_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_6_7_1">
              <span class="code_answer">
                <span class="code_error">
                  Traceback (most recent call last):
                  <br> &nbsp;&nbsp;File "&lt;stdin&gt;", line 1, in &lt;module&gt;
                  <br> ValueError: list.remove(x): x not in list
                </span>
              </span>
            </div>
          </div>
          <!-- TODO: Hide -->
          <p>להזכירכם, כוכב הלכת De Novo כבר נמחק מהרשימה ולכן אינו מופיע בה. כשאנו מנסים למחוק ערך שאינו קיים אנו מקבלים הודעת
            שגיאה מסוג
            <b>ValueError</b>.
            <br> אנחנו עלולים להיתקל בבעיה זו לדוגמה כאשר נרצה למחוק את
            <u>כל</u> המופעים של ערך מסוים מרשימה, בלי לדעת מראש כמה פעמים הוא מופיע. פתרון אפשרי הוא לבדוק האם ערך
            <b>קיים</b> ברשימה
            <u>לפני</u> שמנסים למחוק אותו.</p>

			
			
			
			
			
            <img class="corner_debug-x" onclick="toggle_visibility('corner_6_3_2')">
          </div><br><br><br>

          <h3 class="bold_title">בדיקה האם איבר קיים ברשימה </h3>
          <p>בדומה למחרוזות, אפשר להשתמש <b>באופרטור in</b> גם עבור רשימות, בכדי לבדוק האם איבר כלשהו
            <b>קיים</b> ברשימה.
            <br> דוגמה לבדיקה האם רשימה מכילה איברים מסוימים בתוכה: </p>

          <div class="code">
            >>> solar_system<br>
            <span class="code_answer">['Mercury', 'Venus', 'Earth', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'Sun']</span>
          <br>>>> "Earth"
            <mark class="mark_code">in</mark> solar_system<br>
            <button id="button_6_8_1" class="expand" onclick="expand_code('code_6_8_1', 'button_6_8_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_6_8_1">
              <span class="code_answer">True</span>
            <br> >>> "Pluto"
              <mark class="mark_code">in</mark> solar_system<br>
              <button id="button_6_8_2" class="expand" onclick="expand_code('code_6_8_2', 'button_6_8_2')">
                <img class="enterbutton">
              </button>
              <div class="hiddencode" id="code_6_8_2">
                <span class="code_answer">False</span>
              </div>
            </div>
          </div>
          <img class="box_content_close" onclick="toggle_visibility('topic2')"><br>

        </div>
      <!-- Closing Topic 2 -->

        <button class="box_title" onclick="toggle_visibility('topic3')">פעולות שימושיות נוספות עם רשימות</button>
        <div id="topic3" class="box_content">
          <p>ישנן מתודות ופונקציות רבות בעבודה עם רשימות. נכיר כמה מהן כאן, וכמובן שתגלו פעולות נוספות בהמשך בכוחות עצמכם. </p>

          <p>לפניכם רשימה שנקראת temperatures. הרשימה מכילה אובייקטים מטיפוס int המציינים את הטמפרטורה הממוצעת במעלות פרנהייט
            בכוכבי הלכת במערכת השמש.</p>
          <div class="code">
            >>> temperatures = [-180, 800, -10, 60, -100, -180, 880, -400]<br>
          </div>
          <p>ניעזר ברשימה זו כדי להכיר דוגמאות למתודות ולפונקציות שימושיות.</p>

          <p>דוגמאות ל<b>מתודות שימושיות</b>: </p>

          <table class="general_table">
            <tr>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">מתודה</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">תיאור</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">דוגמת שימוש במתודה</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">פלט מקריאה למתודה</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">reverse</td>
              <td class="general_td">הופכת את סדר האיברים ברשימה, מהסוף להתחלה</td>
              <td class="general_td" dir="ltr" style="text-align:center;">temperatures.reverse()</td>
              <td class="general_td" dir="ltr" style="text-align:center;">[-400, 880, -180, -100, 60, -10, 800, -180]</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">sort</td>
              <td class="general_td">ממיינת את האיברים ברשימה, מהקטן לגדול</td>
              <td class="general_td" dir="ltr" style="text-align:center;">temperatures.sort()</td>
              <td class="general_td" dir="ltr" style="text-align:center;">[-400, -180, -180, -100, -10, 60, 800, 880]</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">count</td>
              <td class="general_td">מחזירה כמה פעמים מופיע ברשימה ערך כלשהו (שמועבר כפרמטר)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">temperatures.count(-180)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">2</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">index</td>
              <td class="general_td">מחזירה את המיקום הראשון ברשימה של ערך כלשהו (שמועבר כפרמטר)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">temperatures.index(-100)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">4</td>
            </tr>
          </table>

          <p>שימו לב שפעולות כמו reverse ו-sort
            <b>משנות</b> את הרשימה עצמה. זאת בניגוד לפעולות על מחרוזות (כגון upper) שמחזירות את תוצאת הפעולה אך אינן משנות את
            המחרוזת המקורית. </p>

          <p>דוגמאות ל<b>פונקציות שימושיות</b>:
            <br> להזכירכם, הרשימה temperatures מכילה טמפרטורות בכוכבי הלכת במערכת השמש:</p>
          <div class="code">
            >>> temperatures = [-180, 800, -10, 60, -100, -180, 880, -400]<br>
          </div>

          <table class="general_table">
            <tr>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">פונקציה</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">תיאור</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">דוגמת שימוש בפונקציה</th>
              <th class="general_th" style="background-color: #023852; text-align: center; text-color: #ffffff; font-weight:bold;">פלט מקריאה לפונקציה</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">max</td>
              <td class="general_td">מחזירה את האיבר הגדול ביותר ברשימה</td>
              <td class="general_td" dir="ltr" style="text-align:center;">max(temperatures)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">880</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">min</td>
              <td class="general_td">מחזירה את האיבר הקטן ביותר ברשימה</td>
              <td class="general_td" dir="ltr" style="text-align:center;">min(temperatures)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">-400</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">sum</td>
              <td class="general_td">מחזירה את הסכום של איברי הרשימה</td>
              <td class="general_td" dir="ltr" style="text-align:center;">sum(temperatures)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">870</td>
            </tr>
            <tr>
              <td class="general_td marked_column" dir="ltr" style="text-align:center;">sorted</td>
              <td class="general_td">מחזירה רשימה חדשה בצורה ממוינת (<u>לא משנה</u> את הרשימה הקיימת)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">sorted(temperatures)</td>
              <td class="general_td" dir="ltr" style="text-align:center;">[-400, -180, -180, -100, -10, 60, 800, 880]</td>
            </tr>
          </table>

          <h3 class="bold_title">דוגמה מתקדמת לשימוש בפונקציה sorted עם מפתח (key): </h3>
          <p>לפניכם רשימה עם איברים מטיפוס מחרוזת:</p>

          <div class="code">
            >>> my_list = ["A", "c", "b", "x", "Z", "i", "G", "J"]<br>
          </div>

          <p>נוכל למיין את הרשימה בעזרת הפונקציה sorted:</p>
          <div class="code">
            >>> sorted(my_list)<br>
            <span class="code_answer">['A', 'G', 'J', 'Z', 'b', 'c', 'i', 'x']</span>
          </div>

          <p>שימו לב, הפונקציה sorted יכולה לקבל כפרמטר נוסף את ה<b>מפתח</b> (key) למיון.
            <br>בתור מפתח אנו יכולים לקבוע כל פונקציה שנרצה. לדוגמה, נניח שאנו רוצים למיין את הרשימה my_list כך שלא תבדיל בין
            אותיות קטנות לאותיות גדולות.
            <br> המשמעות היא שבמיון האות הקטנה b תופיע אחרי האות הגדולה A ו
            <u>לפני</u> האות הגדולה G.
            <br>ניעזר במתודה str.lower שמחזירה עותק של המחרוזת באותיות קטנות ונעביר אותה כמפתח לפונקציה sorted: </p>

          <div class="code">
            >>> sorted(my_list,
            <mark class="mark_code">key</mark>=str.lower)<br>
            <span class="code_answer">['A', 'b', 'c', 'G', 'i', 'J', 'x', 'Z']</span>
          </div>

          <p>בתיעוד של פייתון תוכלו ללמוד על פונקציות נוספות שמקבלות מפתח (או פרמטרים אופציונליים אחרים). לדוגמה, מקריאת הפירוט
            על הפונקציות min ו-max, נלמד שגם הן יכולות לקבל מפתח כפרמטר:</p>
          <p dir="ltr">max(arg1, arg2, *args[, key])
            <br> min(arg1, arg2, *args[, key])</p>

          <p>באופן דומה, תוכלו להעביר כמפתח גם פונקציה שמימשתם בעצמכם בתוכנית. כדאי לכם לנסות זאת בעצמכם!</p>

          <img class="box_content_close" onclick="toggle_visibility('topic3')">
        </div>
        <!-- Closing Topic 3 -->
</body>
</html>
