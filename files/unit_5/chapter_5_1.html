<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>5.1 פונקציות בפייתון</title>
  <meta charset="utf-8">
  <link href='https://fonts.googleapis.com/css?family=alef' rel='stylesheet'>
  <link rel="stylesheet" type="text/css" href="../base/neo_css.css">
  <script src="../base/python_js.js"></script>
</head>

<body class="python_body">
  <script>
    function toggle_visibility(id) {
          var e = document.getElementById(id);
          if (e.style.display == 'block')
                e.style.display = 'none';
          else
                e.style.display = 'block';}

    function expand_code(codeid, buttonid) {
          var c = document.getElementById(codeid);
          var b = document.getElementById(buttonid);
          c.style.display = 'block';
          b.style.display = 'none';}

          function show_answer(id) {
          var e = document.getElementById(id);
          e.style.display = 'block';}
  </script>
  <div class="toc_title">מה נלמד?</div>

  <a name="topic1">
    <button class="box_title" onclick="toggle_visibility('topic1')">למה פונקציות?</button>
    <div id="topic1" class="box_content">
      <p>פונקציה בפייתון, כמו בשפות תכנות אחרות, היא איגוד של רצף פקודות לביצוע של
        <b>משימה מוגדרת</b>.
        <br> דוגמה בסיסית למשימה שמבוצעת על ידי פונקציה, בה נתקלנו ביחידה 3, היא חישוב שורש ריבועי.</p>
      <p>השימוש בפונקציות הופך את הקוד שלנו לקריא, יעיל ומודולרי יותר. כיצד?
        <br> במקום לכתוב שוב ושוב אותן שורות קוד, נכתוב אותן פעם אחת כפונקציה בעלת שם, ובהמשך נוכל לעשות שימוש חוזר בקריאה לפונקציה.
        <br> באופן זה אפשר לשנות חלקים מסוימים בקוד ביתר קלות, להימנע מטעויות ולבדוק את הקוד (לדבג).</p>
      <img class="box_content_close" onclick="toggle_visibility('topic1')">
    </div>
    <!-- Closing Topic 1 -->

    <a name="topic2">
      <button class="box_title" onclick="toggle_visibility('topic2')">כתיבת פונקציות וקריאה לפונקציות</button>
      <div id="topic2" class="box_content">
        <p>פונקציה בפייתון מוגדרת עם המילה השמורה
          <b>def</b> (מלשון define, להגדיר), לאחריה שם הפונקציה ואז סוגריים ונקודתיים.
          <br> גם פונקציות הן בלוקים לוגיים של קוד, ולכן לאחר הנקודתיים תופענה הפקודות של הפונקציה כאשר הן מוזחות ימינה. </p>
        <p>דוגמה לכתיבת פונקציה שנקראת my_first_function:

        <div class="code">
          <span class="code_function">def</span> my_first_function():
          <br> &nbsp;&nbsp;&nbsp;
          <span class="code_function">print</span>("This is my first function in Python!")
        </div>

        <p>הקריאה לפונקציה נעשית על ידי כתיבת שם הפונקציה ולאחריה סוגריים (ללא רווח). </p>
          <p> דוגמה לקריאה לפונקציה my_first_function שהגדרנו (שורה 4): </p>

        <div class="code">
          <span class="code_function">def</span> my_first_function():
          <br> &nbsp;&nbsp;&nbsp;
          <span class="code_function">print</span>("This is my first function in Python!")
          <br>
          <br>
          <mark class="mark_code">my_first_function()</mark>
          <br>
          <button id="button_5_1_1" class="expand" onclick="expand_code('code_5_1_1', 'button_5_1_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_5_1_1">
            <span class="code_answer">This is my first function in Python!</span>
          </div>
        </div>

        <p>בתוך הסוגריים אפשר להגדיר לפונקציה
          <b>פרמטר</b> (אחד או יותר) שהיא מקבלת לצורך פעולתה.</p>
        <p> דוגמה להגדרת הפונקציה square, המקבלת פרמטר: </p>

        <div class="code">
          <span class="code_function">def</span> square(<mark class="mark_code">number</mark>):
          <br>&nbsp;&nbsp;&nbsp;
          <span class="code_function">print</span>(number ** 2)
        </div>

        <p>בהתאמה להגדרת הפונקציה לעיל, בכל קריאה אליה היא תצפה לקבל פרמטר.
          <br> הפרמטר בדוגמה זו הוא מספר אותו מעלים בריבוע. לכן, כל קריאה לפונקציה מחוייבת בהעברת ערך מספרי בסוגריים.</p>
        <p>איך מעבירים פרמטרים? בקריאה לפונקציה כותבים את הפרמטר בתוך הסוגריים. אם לא נקפיד על כך נקבל שגיאה מסוג TypeError.
          </p>
        <p>דוגמה לקריאה לפונקציה square, עם פרמטר: </p>

        <div class="code">
          <span class="code_function">def</span> square(number):
          <br>&nbsp;&nbsp;&nbsp;
          <span class="code_function">print</span>(number ** 2)
          <br>
          <br>
          <mark class="mark_code">square(3)</mark>
          <br>
          <button id="button_5_2_1" class="expand" onclick="expand_code('code_5_2_1', 'button_5_2_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_5_2_1">
            <span class="code_answer">9</span>
          </div>
        </div>

        <img class="box_content_close" onclick="toggle_visibility('topic2')">
      </div>
      <!-- Closing Topic 2 -->


      <a name="topic3">
        <button class="box_title" onclick="toggle_visibility('topic3')">פונקציה היא אובייקט</button>
        <div id="topic3" class="box_content">
          <p>נמשיך עם הפונקציה square. מה יקרה אם נכתוב את שם הפונקציה
            <b>ללא סוגריים</b> ונלחץ אנטר? האם נקבל הודעת שגיאה? </p>

          <div class="code">
            <span class="code_function">def</span> square(number):
            <br>&nbsp;&nbsp;&nbsp;
            <span class="code_function">print</span>(number ** 2)
            <br>
            <br>
            <mark class="mark_code">square</mark>
            <br>
            <button id="button_5_3_1" class="expand" onclick="expand_code('code_5_3_1', 'button_5_3_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_5_3_1">

              <br>
              </span>
            </div>
          </div>

          <p>לא קיבלנו הודעת שגיאה ונראה שלא קרה דבר. מדוע?
            <br> שם פונקציה ללא סוגריים הוא בעצם
            <b>מצביע</b> על פונקציה שיושבת בזיכרון התוכנית. אם נדפיס את שם הפונקציה ללא סוגריים, נקבל את מיקומה בזיכרון. </p>

            <img class="illustration" width="350px" src="http://e-learn.cyber.org.il/python/unit_5/graphics/img_5_1_1.png">

          <p>דוגמה להדפסת שם פונקציה ללא סוגריים: </p>

          <div class="code">
            <span class="code_function">def</span> square(number):
            <br>&nbsp;&nbsp;&nbsp;
            <span class="code_function">print</span>(number ** 2)
            <br>
            <br>
            <mark class="mark_code">print(square)</mark>
            <br>
            <button id="button_5_4_1" class="expand" onclick="expand_code('code_5_4_1', 'button_5_4_1')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_5_4_1">
              <span class="code_answer">&lt;function square at 0x7dfe68d92488&gt;</span>
            </div>
          </div>

          <p>זה הזמן לציין שפונקציות, גם הן
            <b>אובייקטים</b> בפייתון! </p>
            <p>אנו יכולים להתייחס אל פונקציות כמו לכל אובייקט אחר ולבצע השמה שלהן למשתנה אחר! נגדיר משתנה חדש בשם func, ונגדיר
            את ערכו של func להיות הפונקציה square: </p>

          <div class="code">
            <span class="code_function">def</span> square(number):
            <br>&nbsp;&nbsp;&nbsp;
            <span class="code_function">print</span>(number ** 2)
            <br>
            <br>
            <mark class="mark_code">func = square</mark>
          </div>

          <p>עכשיו נוכל להריץ גם את func: </p>
          <div class="code">
            <span class="code_function">def</span> square(number):
            <br>&nbsp;&nbsp;&nbsp;
            <span class="code_function">print</span>(number ** 2)
            <br>
            <br> func = square
            <br>
            <mark class="mark_code">func(6)</mark>
            <br>
              <span class="code_answer">36</span>
          </div>

          <p>הפלא ופלא, עתה המשתנה func מצביע על פונקציה square שהגדרנו במקום אחר בקוד! </p>
          <img class="illustration" width="350px" src="http://e-learn.cyber.org.il/python/unit_5/graphics/img_5_1_2.png">
          <img class="box_content_close" onclick="toggle_visibility('topic3')">
        </div>
        <!-- Closing Topic 3 -->


        <a name="topic4">
          <button class="box_title" onclick="toggle_visibility('topic4')">מה בין פרמטר לארגומנט?</button>
          <div id="topic4" class="box_content">
            <p>עד כה התייחסנו למונח <b>פרמטר</b>, שמייצג אובייקט שהפונקציה מקבלת לצורך פעולתה. את הפרמטר, או הפרמטרים, מגדירים בעת כתיבת הפונקציה.
              <br> כאשר קוראים לפונקציה מתוכנית כלשהי, שולחים עם הקריאה את האובייקט המוגדר לפונקציה. אובייקט זה, שמועבר בפועל
              בעת קריאה לפונקציה, נקרא
              <b>ארגומנט</b>.</p>

            <p>דוגמה לפונקציה שמקבלת פרמטר ולהעברת ארגומנט בעת הקריאה לפונקציה:</p>
            <div class="code">
              <span class="code_comment">#
                <mark class="mark_code_comment">Define</mark> the function square with the
                <mark class="mark_code_comment">parameter</mark> number </span>
              <br>
              <span class="code_function">def</span> square(<mark class="mark_code">number</mark>):
              <br> &nbsp;&nbsp;&nbsp;
              <span class="code_function">print</span>(number ** 2)
              <br>
              <br>
              <span class="code_comment">#
                <mark class="mark_code_comment">Call</mark> the function square with the
                <mark class="mark_code_comment">argument</mark> 3</span>
              <br> square(<mark class="mark_code">3</mark>)
            </div>

            <p>בדוגמה זו האובייקט number הוא הפרמטר שמוגדר לפונקציה square. מחובתנו להעבירו בעת קריאה לפונקציה. המספר שערכו
              3 הוא הארגומנט, כלומר האובייקט המסוים שאנו מעבירים בתוכנית. </p>

              <!-- CORNER -->
              <span class="corner_title" onclick="toggle_visibility('corner_5_1_1')">
                <img class="corner_debug-icon">
                <span class="corner_debug-title">TypeError: טיפוסי ארגומנטים</span>
                <span class="corner_continue">להמשך קריאה</span>
              </span>
              <div id="corner_5_1_1" class="corner_debug-box">
                <p>בעת העברת ארגומנטים לפונקציה כדאי להיות זהירים.
                  <br> לדוגמה, נחזור לפונקציה square ונבצע את הקריאה הבאה:</p>
                <div class="code">
                  <span class="code_function">def</span> square(number):
                  <br> &nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">print</span>(number ** 2) <br>
                  <br> square(<mark class="mark_code">"3"</mark>)
                  <br>
                  <button id="button_5_6_1" class="expand" onclick="expand_code('codebutton_5_6_1', 'button_5_6_1'), show_answer('code_5_6_1a')">
                    <img class="enterbutton">
                  </button>
                  <div class="hiddencode" id="codebutton_5_6_1">
                      <span class="code_error">
                        Traceback (most recent call last):
                        <br>&nbsp; File "&lt;stdin&gt;", line 1, in &lt;module&gt;
                        <br>&nbsp; File "&lt;stdin&gt;", line 2, in square
                        <br> TypeError: unsupported operand type(s) for ** or pow(): 'str' and 'int'
                    </span>
                  </div>
                </div>
                <div id="code_5_6_1a" style="display: none;">
                <p>בדוגמה זו העברנו ארגומנט מטיפוס מחרוזת לפונקציה שמצפה לקבל פרמטר מטיפוס מספר (int).
                  <br> כיוון שפעולת העלאה בחזקה אינה מוגדרת עבור מחרוזת, קיבלנו שגיאה מסוג
                  <b>TypeError</b>.
                  <br> באחריותנו כמתכנתים להעביר כארגומנט אובייקט מהטיפוס המתאים. מידע בנוגע לטיפוסי הפרמטרים אותם מקבלת הפונקציה
                  נמצא בתיעוד של הפונקציה.
                  <br> נלמד יותר על תיעוד, כיצד לכתוב אותו וחשיבותו בהמשך היחידה.</p>
                </div>

              <img class="corner_debug-x" onclick="toggle_visibility('corner_5_1_1')">
            </div><!-- END CORNER -->
            <br><br>
            <!-- CORNER -->
            <span class="corner_title" onclick="toggle_visibility('corner_5_2_1')">
              <img class="corner_otherlang-icon">
              <span class="corner_otherlang-title"> שגיאות בקומפילציה לעומת שגיאות בהרצה</span>
              <span id="cont_5_2_1" class="corner_continue">להמשך קריאה</span>
            </span>
            <div id="corner_5_2_1" class="corner_otherlang-box">
              <p>ישנן שפות כגון שפת C, ג'אווה ו++C שעוברות תהליך של קומפילציה לפני הרצת התוכנית. הקומפיילר משמש כ"שוטר" האמון
                על אכיפת חוקי השפה.
                <br> קטעי קוד שלא עומדים בכללי השפה מתגלים בזמן קומפילציה, ובזכות כך ניתנת למתכנת אפשרות לדבג אותם, כלומר למצוא
                את מקור הבעיה ולפתור אותה,
                <u>טרם</u> הרצת התוכנית.</p>
              <p>לעומת זאת, בפייתון, שגיאות רבות שהיו עשויות להיתפס בזמן קימפול, צצות רק בעת ההרצה ועלולות לגרום לקריסת התוכנית.
                דוגמה לכך היא השגיאה מסוג TypeError שהוצגה בפינת הדיבוג האחרונה. </p>
              <p>לפיכך, עלינו כמתכנתי פייתון מוטלת האחריות למנוע היווצרות בעיות בעת ההרצה ולשם כך עלינו לפעול ביתר תשומת לב
                בעת כתיבת הקוד.
              </p>
              <img class="corner_otherlang-x" onclick="toggle_visibility('corner_5_2_1')">
            </div>
            <br>
            <!-- END CORNER -->

            <img class="box_content_close" onclick="toggle_visibility('topic4')">
          </div>
          <!-- Closing Topic 4 -->

</body>

</html>
