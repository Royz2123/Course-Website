<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>5.3 פלט וקלט של פונקציה</title>
  <meta charset="utf-8">
  <link href='https://fonts.googleapis.com/css?family=alef' rel='stylesheet'>
  <link rel="stylesheet" type="text/css" href="../base/neo_css.css">
  <script src="../base/python_js.js"></script>
</head>

<body class="python_body">
  <script>
    function toggle_visibility(id) {
          var e = document.getElementById(id);
          if (e.style.display == 'block')
                e.style.display = 'none';
          else
                e.style.display = 'block';}

    function expand_code(codeid, buttonid) {
          var c = document.getElementById(codeid);
          var b = document.getElementById(buttonid);
          c.style.display = 'block';
          b.style.display = 'none';}

    function show_answer(id) {
          var e = document.getElementById(id);
          e.style.display = 'block';}
  </script>
  <div class="toc_title">מה נלמד?</div>

    <a name="topic1">
      <button class="box_title" onclick="toggle_visibility('topic1')">החזרה מפונקציה</button>
      <div id="topic1" class="box_content">
	<p>פעמים רבות נרצה שפונקציה תבצע פעולה מוגדרת, ולאחר מכן תחזיר ערך שמייצג את תוצאת הפעולה. זהו למעשה <b>פלט</b> של הפונקציה.</p>
	
	<p>    החזרת ערך מפונקציה נעשית בעזרת הפקודה <b>return</b>. פקודה זו מאפשרת להחזיר כל טיפוס שנרצה. 
</p>
	
	
        <h3 class="bold_title">החזרת ערך אחד מפונקציה</h3>
        <p>דוגמה להחזרת ערך מטיפוס int - הפונקציה add מקבלת שני מספרים ומחזירה את הסכום שלהם:</p>
        <div class="code">
          >>>
          <span class="code_function">def</span> add(num1, num2):
          <br> ...
          <mark class="mark_code">return</mark> num1 + num2
        </div>
        <p>בסוף הריצה של הפונקציה add הפקודה return מחזירה את הסכום.
        </p>
        <p>בעת הקריאה לפונקציה נוכל לכתוב:
        </p>
        <div class="code">
          >>> sum = add(15, 20)
          <br> >>> print(sum)
          <br>
          <span class="code_answer">35</span>
        </div>
        <p>כך נוצר משתנה sum שמצביע על האובייקט בעל הערך 35. כמובן שהערך אשר התקבל ונשמר במשתנה sum אינו מצביע על פונקציה, אלא על התוצאה שחושבה.
        </p>
        <br>
        <p>כפי שראינו בדוגמאות קודמות של פונקציות, לא תמיד נרצה שהיא תחזיר ערך מסוים.
          <br> כיצד נכתוב זאת?
        </p>
        <ul>
          <li>האפשרות הראשונה היא פשוט לא לכתוב דבר, כפי שעשינו עד עכשיו.
            <br> דוגמה לפונקציה ללא משפט החזרה:

            <div class="code">
              <span class="code_function">def</span> welcome(name):
              <br> &nbsp; &nbsp;
              <span class="code_function">print</span>("Welcome", name)</div>
            למעשה, גם במקרה זה פייתון מחזירה ערך. הערך המוחזר הוא אובייקט שנקרא <b>None</b>. זהו אובייקט יחיד שמצביעים עליו כאשר רוצים לציין שהפונקציה מחזירה "כלום". באותו אופן שהאובייקט None
            עשוי לחזור מפונקציה, אפשר גם לבצע השמה של אובייקט זה למשתנה.

          </li>
          <li>אפשר גם לכתוב באופן מפורש שהפונקציה מחזירה None על ידי הפקודה return None.
            <br> דוגמה להחזרת None באופן מפורש:
            <div class="code">
              <span class="code_function">def</span> welcome(name):
              <br> &nbsp; &nbsp;
              <span class="code_function">print</span>("Welcome", name)
              <br>&nbsp; &nbsp;
              <mark class="mark_code_function">return None</mark>
            </div>
          </li>
          <li>אפשרות אחרונה היא לכתוב return בלבד.
            <br> באופן מעשי, גם אפשרות זו מחזירה None.
            <div class="code">
              <span class="code_function">def</span> welcome(name):
              <br> &nbsp; &nbsp;
              <span class="code_function">print</span>("Welcome", name)
              <br>&nbsp; &nbsp;
              <mark class="mark_code_function">return</mark>
            </div>
          </li>
        </ul>

        <h3 class="bold_title">החזרת שני ערכים ומעלה</h3>
        <p>אפשרות שימושית מאוד בפייתון היא היכולת להחזיר מפונקציה <b>יותר מערך אחד</b>. בכדי להחזיר כמה ערכים נכתוב את המילה return ולאחריה רשימת הערכים מופרדת בפסיקים (למעשה, הפונקציה
          תחזיר טיפוס נתונים מיוחד שנקרא Tuple, אותו נלמד ביחידה 8).
        </p>
        <p>דוגמה להחזרת שני ערכים מפונקציה - הפונקציה sum_and_avg מחשבת ומחזירה גם סכום וגם ממוצע:</p>
        <div class="code">
          <span class="code_function">def</span> sum_and_avg(a, b):
          <br>&nbsp; &nbsp;sum_num = a + b
          <br>&nbsp; &nbsp;avg_num = (a + b) / 2
          <br>&nbsp; &nbsp;
          <span class="code_function">return </span>
          <mark class="mark_code">sum_num, avg_num</mark>
        </div>
        <p>בקריאה לפונקציה נקבל פלט של שני ערכים, ונשמור אותם למשתנים:
        </p>
        <div class="code">
          >>> x, y = sum_and_avg(3, 6)
          <br> >>> x
          <br>
          <span class="code_answer">9</span>
          <br> >>> y
          <br>
          <span class="code_answer">4.5</span>
        </div>



        <img class="box_content_close" onclick="toggle_visibility('topic1')">
      </div>
      <!-- Closing Topic 1 -->


      <a name="topic2">
        <button class="box_title" onclick="toggle_visibility('topic2')">ערכי ברירת מחדל לארגומנטים</button>
        <div id="topic2" class="box_content">
		<p>כפי שראינו, בעבודה עם פונקציות נרצה להעביר לפונקציה ארגומנטים. הערכים המועברים הם ה<b>קלט</b> של הפונקציה.
		</p>





          <p>פייתון מאפשרת לנו לקבוע <b>ערך ברירת מחדל</b> עבור ארגומנט. כלומר, כל עוד לא ציינו מפורשות אחרת, הארגומנט שמועבר לפונקציה הוא בעל ערך ידוע
            שהגדרנו מראש. ארגומנט כזה קרוי לעיתים <b>ארגומנט דיפולטי</b>, כיוון שהוא בעל ערך דיפולטי (=ארגומנט ברירת מחדל), או <b>ארגומנט אופציונלי</b>, כיוון שהעברתו לפונקציה בצורה מפורשת אפשרית אך אינה הכרחית.
          </p>
          <p>את ערך ברירת המחדל נכתוב בשורת ההגדרה של הפונקציה, לאחר הפרמטר הרלוונטי, עם הסימן =. דוגמה להגדרת הפונקציה multiply
            עם ארגומנטי ברירת מחדל:
          </p>
          <div class="code">
            <span class="code_function">def</span> multiply(base=4, multiplier=5):
            <br> &nbsp; &nbsp;
            <span class="code_function">print</span>(base * multiplier)

          </div>
          <p>בהתאמה לשורת ההגדרה, מה יקרה אם נקרא לפונקציה multiply עם סוגריים ריקים?
          </p>
          <div class="code">>>> multiply()
            <button id="button_5_2_4" class="expand" onclick="expand_code('code_5_2_4', 'button_5_2_4')">
              <img class="enterbutton">
            </button>
            <div class="hiddencode" id="code_5_2_4">
              <span class="code_answer">20</span>
            </div>
          </div>
          <p>בדוגמה זו, על אף שלפונקציה מוגדרים פרמטרים, קראנו לה עם סוגריים ריקים. כיוון שציינו בהגדרת הפונקציה את ערכי ברירת
            המחדל עבור כל פרמטר, כל עוד לא כתבנו אחרת, הארגומנטים שיועברו
            <u>בפועל</u> לפונקציה הם 4 ו-5 ויודפס הפלט 20.
          </p>
          <p>כמובן שגם כאשר מגדירים ערכי ברירת מחדל אפשר לקרוא לפונקציה עם ערכים ששונים מהם:
          </p>
          <div class="code">>>> multiply(2, 3)
            <br>
            <span class="code_answer">6</span>
          </div>

          <!-- CORNER DEBUG -->
          <br>
          <span class="corner_title" onclick="toggle_visibility('corner_5_2_3')">
            <img class="corner_debug-icon">
            <span class="corner_debug-title">SyntaxError: ארגומנטים דיפולטיים</span>
            <span id="cont_5_2_3" class="corner_continue">להמשך קריאה</span>
          </span>
          <div id="corner_5_2_3" class="corner_debug-box">

            <p>לאילו פרמטרים אפשר לקבוע ערכי ברירת מחדל?
              <br> בואו נראה מה יקרה כאשר ננסה להוסיף ערך ברירת מחדל רק לפרמטר הראשון base:
            </p>
            <div class="code">
              <span class="code_function">def</span> multiply(base
              <mark class="mark_code">=4</mark> , multiplier):
              <br> &nbsp; &nbsp;
              <span class="code_function">print</span>(base * multiplier)
              <br>
              <button id="button_5_2_5" class="expand" onclick="expand_code('code_5_2_5', 'button_5_2_5')">
                <img class="enterbutton">
              </button>
              <div class="hiddencode" id="code_5_2_5">
                <span class="code_error">
                  Traceback (most recent call last):
                  <br> &nbsp;File "&lt;stdin&gt;", line 1
                  <br> SyntaxError: non-default argument follows default argument</span>
              </div>
            </div>
            <p>מתקבלת הודעת שגיאה תחבירית <b>SyntaxError</b>
              <ase></ase> שמפרטת שהוגדר פרמטר ללא ארגומנט ברירת מחדל אחרי פרמטר בעל ארגומנט ברירת מחדל. מדוע זו בעיה תחבירית?
              <br> חשבו על כך - מה יקרה אם נקרא לפונקציה בצורה הבאה?
            </p>
            <div class="code">>>> multiply(3)</div>
            <p>קריאה כזו עלולה לבלבל כיוון שפייתון לא יודעת האם הארגומנט 3 הוא עבור הפרמטר הראשון base, או עבור הפרמטר השני
              multiplier, שהוא הפרמטר שאינו בעל ערך ברירת מחדל.
            </p>
            <p>לפיכך, פרמטרים עם ארגומנטי ברירת מחדל יבואו תמיד <b>אחרי</b> פרמטרים ללא ארגומנטי ברירת מחדל. כלומר, רק לפרמטרים <b>האחרונים</b> ברשימת הפרמטרים (הפרמטרים מימין) יכולים להיות ארגומנטי ברירת מחדל.</p>

            <img class="corner_debug-x" onclick="toggle_visibility('corner_5_2_3')">
          </div>
          <br>
          <br>
          <!-- END CORNER DEBUG -->

          <p>בקריאה לפונקציה בפייתון נוכל גם לציין את <b>שמות הפרמטרים</b> באופן מפורש, ובכך איננו מתחייבים לסדר הפרמטרים שהוגדר בעת כתיבת הפונקציה. שיטה זו מקלה בקריאה
            לפונקציה מרובת פרמטרים והופכת את הקוד לקריא יותר. </p>
          <p>דוגמה לכתיבת הפונקציה show_date ולקריאה לפונקציה תוך ציון שמות הפרמטרים:
          </p>
          <div class="code">
            <span class="code_function">def</span> show_date(day ,month, year=2017):
            <br> &nbsp; &nbsp;
            <span class="code_function">print</span>("Today is ",day,"/",month,"/",year)
            <br>
            <br> show_date(<mark class="mark_code">day=</mark>15,<mark class="mark_code">month=</mark>12)
          </div>

          <!-- CORNER DEBUG -->
          <br>
          <span class="corner_title" onclick="toggle_visibility('corner_5_2_4')">
            <img class="corner_debug-icon">
            <span class="corner_debug-title">TypeError: ארגומנטים שאינם דיפולטיים</span>
            <span id="cont_5_2_4" class="corner_continue">להמשך קריאה</span>
          </span>
          <div id="corner_5_2_4" class="corner_debug-box">

            <p>שימו לב, אם בחרתם בצורת כתיבה של שמות מפורשים, הקפידו להתייחס לכל הפרמטרים שאין להם ערכי ברירת מחדל.
              <br> דוגמה לקריאה לפונקציה show_date עם ציון חלקי של פרמטרים:
            </p>
            <div class="code">>>> show_date(day=15)
              <br>
              <button id="button_5_2_6" class="expand" onclick="expand_code('code_5_2_6', 'button_5_2_6')">
                <img class="enterbutton">
              </button>
              <div class="hiddencode" id="code_5_2_6">
                <span class="code_error">
                  Traceback (most recent call last):
                  <br> &nbsp;File "&lt;stdin&gt;", line 1, in &lt;module&gt;
                  <br> TypeError: show_date() missing 1 required positional argument: 'month'</span>
              </div>
            </div>
            <p>מתקבלת הודעת שגיאה כיוון שלא התייחסנו לפרמטר month שאין לו ערך ברירת מחדל.
            </p>

            <img class="corner_debug-x" onclick="toggle_visibility('corner_5_2_5')">
          </div>
          <br>
          <!-- END CORNER DEBUG -->


          <img class="box_content_close" onclick="toggle_visibility('topic2')">
        </div>
        <!-- Closing Topic 2-->

		
</body>

</html>
