<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <title>5.3 תיעוד, הפונקציה main וקונבנציות כתיבה</title>
  <meta charset="utf-8">
  <link href='https://fonts.googleapis.com/css?family=alef' rel='stylesheet'>
  <link rel="stylesheet" type="text/css" href="../base/neo_css.css">
  <script src="../base/python_js.js"></script>
</head>

<body class="python_body">
  <script>
    function toggle_visibility(id) {
          var e = document.getElementById(id);
          if (e.style.display == 'block')
                e.style.display = 'none';
          else
                e.style.display = 'block';}

    function expand_code(codeid, buttonid) {
          var c = document.getElementById(codeid);
          var b = document.getElementById(buttonid);
          c.style.display = 'block';
          b.style.display = 'none';}
  </script>
  <div class="toc_title">מה נלמד?</div>

  <a name="topic1">
    <button class="box_title" onclick="toggle_visibility('topic1')">תיעוד פונקציה</button>
    <div id="topic1" class="box_content">
      <p>לאחר שלמדנו להגדיר פונקציות והתמקדנו בקלט ובפלט שלהן, חשוב ללמוד כיצד לתעד מה הן מבצעות.
        <br>ה<b>תיעוד</b> של פונקציה מתאר מה מטרת הפונקציה ואיך להשתמש בה.<br>
         תיעוד הוא חלק בלתי נפרד מכתיבת קוד והוא שימושי מאוד הן
        בהתמצאות בתוכנית שלכם והן בקריאת קוד של אחרים.
        <br> לכן מומלץ שתתרגלו לכתוב תיעוד לפונקציות שכתבתם, ולהשתמש בתיעוד פונקציות שכתבו אחרים. </p>
      <p>תיעוד לפונקציה נמצא מיד לאחר הגדרת הפונקציה. התיעוד נכתב כשורת קוד, אחת או יותר, הנקראת
        <b>docstring</b> והוא ערוך בתוך מרכאות משולשות. </p>
      <p>דוגמה לתיעוד פונקציה (docstring) המכיל 2 שורות: </p>
      <div class="code">
        <span class="code_function">def</span> func():
          <span class="code_comment">
              <br> &nbsp;&nbsp;"""Do nothing, but document it.
              <br> &nbsp;&nbsp; Really, documentation is very important!"""</span>

      </div>

      <p>אם אנו כותבים פונקציה שמקבלת פרמטרים ו/או מחזירה ערכים, נוסיף זאת לתיעוד.
        <br> דוגמה לפונקציה עם תיעוד, שכוללת פרמטרים וערך החזרה:</p>
      <div class="code">
        <span class="code_function">def</span> power(base, exponent):
        <br>

          <span class="code_comment">
             &nbsp;&nbsp; """
            <br> &nbsp;&nbsp; :param base: base value
            <br> &nbsp;&nbsp; :param exponent: exponent value
            <br> &nbsp;&nbsp; :type base: int
            <br> &nbsp;&nbsp; :type exponent: int
            <br> &nbsp;&nbsp; :return: The result of raising base to the power exponent
            <br> &nbsp;&nbsp; :rtype: int
            <br> &nbsp;&nbsp; """
          </span>
          <br> &nbsp;&nbsp;<span class="code_function"> return</span>(base ** exponent)
      </div>

 <!-- CORNER ENRICHMENT -->
 <br><br>
 <span class="corner_title" onclick="toggle_visibility('corner_5_3_1')">
 <img class="corner_enrichment-icon">
 <span class="corner_enrichment-title">קונבנציות בכתיבת תיעוד של פונקציה</span>
 <span id="cont_5_3_1" class="corner_continue">להמשך קריאה</span>
 </span>
 <div id="corner_5_3_1" class="corner_enrichment-box">
  <p>קונבנציות נוספות בכתיבת docstring תוכלו למצוא
    <a class="link" target="_blank" href="https://www.python.org/dev/peps/pep-0257/">בקישור הזה</a>. </p>
  <img class="corner_enrichment-x" onclick="toggle_visibility('corner_5_3_1')">
 </div>
 <br><br>
 <!-- END CORNER ENRICHMENT -->



      <p>לאחר שתיעדנו את הפונקציה, נוכל לצפות בתיעוד:</p>
      <div class="code">
        >>> help(func)<br>
        <button id="button_5_1_1" class="expand" onclick="expand_code('code_5_1_1', 'button_5_1_1')">
          <img class="enterbutton">
        </button>
        <div class="hiddencode" id="code_5_1_1">
          <span class="code_answer">
            Help on function func in module __main__:
            <br>
            <br> func()
            <br> &nbsp;&nbsp;Do nothing, but document it.
            <br> &nbsp;&nbsp;Really, documentation is very important!</span>
        </div>
      </div>
      <p>דרך נוספת לצפייה בתיעוד:</p>
      <div class="code">
        >>> func.__doc__
        <button id="button_5_2_1" class="expand" onclick="expand_code('code_5_2_1', 'button_5_2_1')">
          <img class="enterbutton">
        </button>
        <div class="hiddencode" id="code_5_2_1">
          <span class="code_answer">
            'Do nothing, but document it.\n Really, documentation is very important!'</span>
        </div>
      </div>
      <p>מעכשיו, לאחר שלמדתם כיצד לתעד, אל תשכחו להוסיף תיעוד לפתרונות התרגילים ולכל קוד שאתם כותבים! </p>
      <img class="box_content_close" onclick="toggle_visibility('topic1')">
    </div>
    </div>
    <!-- Closing Topic 1 -->


    <a name="topic2">
      <button class="box_title" onclick="toggle_visibility('topic2')">הפונקציה main</button>
      <div id="topic2" class="box_content">
        <p>לפניכם קובץ עם תוכנית שמכילה שתי פונקציות:</p>
        <div class="code">
          <span class="code_function">def</span> func1():
          <br> &nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">print</span>("func1")
          <br>
          <br>
          <span class="code_function">def</span> func2():
          <br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">print</span>("func2")
          <button id="button_5_3_1" class="expand" onclick="expand_code('code_5_3_1', 'button_5_3_1')">
            <img class="enterbutton">
          </button>
          <div class="hiddencode" id="code_5_3_1">
            <span>&nbsp;</span>
          </div>
          </ul>
        </div>
        <p>כאשר אנו מריצים את פייתון על קובץ ההרצה הזה, נדמה כי לא מתבצע דבר.
          <br> אך בפועל, במהלך ריצת התוכנית פייתון מגדירה כל אחת מהפונקציות ורק לאחר מכן מסתיימת הריצה.
          <br> בכדי שהפונקציות עצמן ירוצו אנו קוראים להן מתוך
          <b> פונקציה ראשית ששמה main </b>. </p>
        <p>מעתה והלאה, נקפיד לכתוב תוכניות שכוללות את הפונקציה main במבנה הבא:</p>
        <div class="code">
          <span class="code_function">def</span> main():<br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="code_comment"># do nothing for a while</span><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">pass</span>
          <br> <br>
          <mark class="mark_code"><mark class="mark_code_function">if</mark> __name__ == "__main__":</mark>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;main()
        </div>
        <p>נתעכב על שתי נקודות חשובות במבנה לעיל:</p>
        <h3 class="bold_title">א. הפונקציה main</h3>

        <!-- CORNER -->
        <br>
        <span class="corner_title" onclick="toggle_visibility('corner_5_3_2')">
          <img class="corner_goodwrite-icon">
          <span class="corner_goodwrite-title">הפונקציה main</span>
          <span id="cont_5_3_2" class="corner_continue">להמשך קריאה</span>
        </span>
        <div id="corner_5_3_2" class="corner_goodwrite-box">
          <p>כפי שאתם רואים, בשורה 01 מוגדרת פונקציה שנקראת main. זו הפונקציה הראשית שלנו ונהוג כי כל מה שרוצים שיבוצע (קוד,
            או קריאות לפונקציות שונות) מאוגד בתוכה.
            <br> בשורה 05 קוראים לפונקציה הזאת. לרוב שם הפונקציה הוא main, אך שם זה הוא בגדר קונבנציה ולא תנאי של השפה. </p>
          <img class="corner_goodwrite-x" onclick="toggle_visibility('corner_5_3_2')">
        </div>
        <br>
        <!-- END CORNER -->


        <h3 class="bold_title">ב. שורת התנאי</h4>
          <p>בשורה 04 מופיעה שורת תנאי שבשלב זה קשה להבנה. תנאי זה נועד בכדי להפריד בין שני שימושים בקובץ:
            <br>
          </p>
          <ol>
            <li>הרצה ישירה של הקובץ. במקרה זה מתבצעת קריאה לפונקציה main שבמהלכה יורצו שורות הקוד והפונקציות הנוספות שמוגדרות
              בה.</li>
            <li>יבוא הקובץ כספריה, באמצעות import לקובץ. במקרה זה הקובץ לא ירוץ אלא ישמש כחבילה. אם נרצה, הפונקציות שבקובץ יהיו
              זמינות לשימוש.</li>
          </ol>
          <p>דוגמה לתוכנית עם הפונקציה main:</p>
          <div class="code">
            <span class="code_function">def</span> func1():
            <br> &nbsp;&nbsp;<span class="code_function">print</span>("func1")
            <br><br>
            <span class="code_function">def</span> func2():
            <br> &nbsp;&nbsp;<span class="code_function">print</span>("func2")
            <br> <br>
            <span class="code_function">def</span> main():
            <br> &nbsp;&nbsp;func1()
            <br> &nbsp;&nbsp;func2()  <br>
            <br> <span class="code_function">if</span> __name__ == "__main__":
              <br> &nbsp;&nbsp;main()
              <br> <br>
              <button id="button_5_4_1" class="expand" onclick="expand_code('code_5_4_1', 'button_5_4_1')">
                <img class="enterbutton">
              </button>
              <div class="hiddencode" id="code_5_4_1">
                <span class="code_answer">
                  func1
                  <br> func2
              </div>
              </ul>
          </div>
          <img class="box_content_close" onclick="toggle_visibility('topic2')">
      </div>
      </div>
      <!-- Closing Topic 2 -->

      <a name="topic3">
        <button class="box_title" onclick="toggle_visibility('topic3')">הגדרה נכונה וכתיבה נכונה של פונקציות</button>
        <div id="topic3" class="box_content">
          <p>הביטו בתוכנית הבאה ונסו להבין מה מטרתה:</p>
          <div class="code">
            <span class="code_function">def</span> main():

            <br> &nbsp;&nbsp;c = func()
            <br> &nbsp;&nbsp;cs = funci(c)
            <br> &nbsp;&nbsp;<span class="code_function">if not</span> cs:
              <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">print</span>("Error! Wrong City!")
              <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">return None</span>
              <br> &nbsp;&nbsp;t = funct(c)
              <br> &nbsp;&nbsp;ts(t, c)
              <br> &nbsp;&nbsp;
              <br>
            <span class="code_function">if</span> __name__ == "__main__":
            <br> &nbsp;&nbsp;main()
          </div>
          <p>האם הצלחתם להבין?
            <br> רוב הסיכויים שלא, ובצדק. ודאי הבחנתם שהקוד מאוד לא קריא, בין השאר כיוון ששמות המשתנים והפונקציות אינם ברורים.
            <br> בואו נראה כיצד אפשר לכתוב זאת אחרת.
            <br> הדוגמה הבאה מציגה בדיוק את אותה התוכנית, אך בצורה ברורה. נסו עכשיו להסיק מה עושה התוכנית והפונקציות להן היא
            קוראת במהלך הריצה. </p>
          <div class="code">
            <span class="code_function">def</span> main():
            <br> &nbsp;&nbsp;<span class="code_comment"># City forcast generator program</span>
            <br> &nbsp;&nbsp;city_name = get_city_from_user()
            <br> &nbsp;&nbsp;valid_city = is_city_valid(city_name)
            <br> &nbsp;&nbsp;<span class="code_function">if not</span> valid_city:
            <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">print</span>("Error! Wrong City!")
            <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code_function">return None</span>
            <br> &nbsp;&nbsp;temperature = get_current_weather(city_name)
            <br> &nbsp;&nbsp;<span class="code_comment"># Show forecast for the user</span>
            <br> &nbsp;&nbsp;show_weather(temperature, city_name)
            <br> <br><span class="code_function">if</span> __name__ == "__main__":
            <br> &nbsp;&nbsp;main()
          </div>
          <p>עכשיו התחזית כבר ידועה, נשאר רק לבחור לאן לנסוע... </p>

          <!-- CORNER -->
          <span class="corner_title" onclick="toggle_visibility('corner_5_3_3')">
            <img class="corner_goodwrite-icon">
            <span class="corner_goodwrite-title">קונבנציות בכתיבת פונקציות</span>
            <span id="cont_5_3_3" class="corner_continue">להמשך קריאה</span>
          </span>
          <div id="corner_5_3_3" class="corner_goodwrite-box">
            <p>מהדוגמה הקודמת עולה הצורך לקונבנציות בתחום הגדרה נכונה וכתיבה נכונה של פונקציות:</p>
            <ul>
              <li>כתבו כל פונקציה עם
                <b> מטרה אחת ברורה</b>. כאשר המטרה ממוקדת נוכל להשתמש בפונקציה פעמים רבות ובתרחישים מגוונים ובכך אנו מונעים שכפול
                מיותר של קוד. </li>
              <li>
                <b>שם הפונקציה</b> צריך לשקף את המטרה וכך גם התיעוד שלה.</li>
              <li>השתדלו ש
                <b>הקלט והפלט</b> של הפונקציה יהיו ברורים והשימוש בהם אינטואיטיבי.</li>
              <li>בתוכנית עם יותר מפונקציה אחת, נפריד ביניהן באמצעות
                <b>שורה ריקה</b> (עוד על שורות ריקות תוכלו למצוא <a class="link" target="_blank" href="https://www.python.org/dev/peps/pep-0008/#blank-lines">בקישור הזה</a>).
              </li>
            </ul>
            <img class="corner_goodwrite-x" onclick="toggle_visibility('corner_5_3_3')">
          </div>
          <br>
        <!-- END CORNER -->
        <img class="box_content_close" onclick="toggle_visibility('topic3')">
        </div>
        <!-- Closing Topic 3 -->


</body>

</html>
